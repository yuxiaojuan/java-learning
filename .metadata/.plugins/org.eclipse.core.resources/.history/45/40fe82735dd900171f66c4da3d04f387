package com.yusj.firstLearning.threadlocal;

import java.util.Random;

/**
 * ThreadLocal测试
 * @author yusj
 *
 */
public class ThreadLocalDemo{

	private final static ThreadLocal<Integer> threadLocal = new ThreadLocal<Integer>(); 
	
	public Integer initialValue() {
		return 0;
	}
	
	public static void main(String[] args) {
		for(int i=0;i<3;i++) {
			new Thread(new Runnable() {
				@Override
				public void run() {
					int data = new Random().nextInt(100);
					threadLocal.set(data);
					String threadCurrentName = Thread.currentThread().getName();
					System.out.println(threadCurrentName + "is running.");
					for(int i=0;i<5;i++) {
						System.out.println(threadCurrentName + getNextNum());
					}
				}
			});
		}

	}

	public int getNextNum() {
		threadLocal.set(threadLocal.get()+1);
		return threadLocal.get();
	}

}

